{
  "id": "level_16_hard",
  "baseId": "level_16",
  "variant": "hard",
  "availableGates": [
    "transistor",
    "not",
    "and",
    "or",
    "nand",
    "nor",
    "xor",
    "mux2to1",
    "srLatch",
    "dFlipFlop"
  ],
  "inputs": 3,
  "targetSequence": [
    {
      "in": [
        0,
        0,
        0
      ],
      "out": [
        0
      ],
      "desc": "J=0, K=0, CLK=0: Setup HOLD"
    },
    {
      "in": [
        0,
        0,
        1
      ],
      "out": [
        0
      ],
      "desc": "J=0, K=0, CLK↑: HOLD (Q stays 0)"
    },
    {
      "in": [
        1,
        0,
        0
      ],
      "out": [
        0
      ],
      "desc": "J=1, K=0, CLK=0: Setup SET"
    },
    {
      "in": [
        1,
        0,
        1
      ],
      "out": [
        1
      ],
      "desc": "J=1, K=0, CLK↑: SET (Q→1)"
    },
    {
      "in": [
        0,
        0,
        0
      ],
      "out": [
        1
      ],
      "desc": "J=0, K=0, CLK=0: Setup HOLD"
    },
    {
      "in": [
        0,
        0,
        1
      ],
      "out": [
        1
      ],
      "desc": "J=0, K=0, CLK↑: HOLD (Q stays 1)"
    },
    {
      "in": [
        0,
        1,
        0
      ],
      "out": [
        1
      ],
      "desc": "J=0, K=1, CLK=0: Setup RESET"
    },
    {
      "in": [
        0,
        1,
        1
      ],
      "out": [
        0
      ],
      "desc": "J=0, K=1, CLK↑: RESET (Q→0)"
    },
    {
      "in": [
        1,
        1,
        0
      ],
      "out": [
        0
      ],
      "desc": "J=1, K=1, CLK=0: Setup TOGGLE"
    },
    {
      "in": [
        1,
        1,
        1
      ],
      "out": [
        1
      ],
      "desc": "J=1, K=1, CLK↑: TOGGLE (0→1)"
    }
  ],
  "maxGates": 5,
  "xpReward": 170,
  "hint": "D = (J AND NOT Q) OR (NOT K AND Q). Use the D-FF's Q output, invert it, and build this equation using AND/OR gates.",
  "title": "JK Flip-Flop",
  "objective": "Build the universal flip-flop",
  "description": "Build a JK Flip-Flop from a D Flip-Flop and logic gates. J=K=0: Hold, J=1,K=0: Set, J=0,K=1: Reset, J=K=1: Toggle.",
  "physicsVisual": "jk_flipflop"
}