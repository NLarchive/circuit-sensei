{
  "$schema": "./level-game.schema.json",
  "id": "level_16_medium",
  "tier": "tier_4",
  "title": "Frequency Divider",
  "objective": "Divide clock by 2",
  "description": "Build a circuit that outputs a signal at half the frequency of the input clock. For every 2 input pulses, output 1 pulse.",
  "introText": "FREQUENCY DIVISION is fundamental to clock generation. A crystal oscillator might run at 100MHz, but your CPU needs various derived clocks (50MHz, 25MHz, etc.). A T flip-flop (toggle) naturally divides by 2: it flips state on every clock edge. Chain multiple together to divide by 4, 8, 16... This is how clock trees generate system clocks.",
  "physicsVisual": "freq_divider",
  "hint": "Connect Q_NOT back to D to make a toggle flip-flop. Output Q changes state on every clock edge, producing a half-frequency signal.",
  "availableGates": [
    "transistor",
    "not",
    "and",
    "or",
    "nand",
    "nor",
    "xor",
    "mux2to1",
    "srLatch",
    "dFlipFlop"
  ],
  "inputs": 1,
  "targetSequence": [
    {
      "in": [
        0
      ],
      "out": [
        0
      ],
      "desc": "CLK=0: Initial state"
    },
    {
      "in": [
        1
      ],
      "out": [
        1
      ],
      "desc": "CLK↑ #1: Toggle to 1"
    },
    {
      "in": [
        0
      ],
      "out": [
        1
      ],
      "desc": "CLK=0: Hold at 1"
    },
    {
      "in": [
        1
      ],
      "out": [
        0
      ],
      "desc": "CLK↑ #2: Toggle to 0"
    },
    {
      "in": [
        0
      ],
      "out": [
        0
      ],
      "desc": "CLK=0: Hold at 0"
    },
    {
      "in": [
        1
      ],
      "out": [
        1
      ],
      "desc": "CLK↑ #3: Toggle to 1"
    }
  ],
  "maxGates": 2,
  "xpReward": 145,
  "storyText": "TOGGLE FLIP-FLOP IMPLEMENTATION: The T flip-flop is constructed by feeding Q̄ back to D. This creates a divide-by-2 frequency divider with perfect 50% duty cycle. Chaining T flip-flops creates prescalers for digital clocks.",
  "physicsDetails": {
    "conceptCards": [
      {
        "term": "T Flip-Flop (Toggle)",
        "definition": "A flip-flop that toggles its output on each active clock edge. When T=1, Q_next = NOT(Q). When T=0, Q holds.",
        "why": "T flip-flops are the building blocks of counters and frequency dividers—essential for digital timing.",
        "analogy": "Like a light switch that flips every time you tap it—tap once for ON, tap again for OFF.",
        "visuals": [
          {
            "type": "t_flipflop_detailed",
            "title": "T Flip-Flop: Divide-by-2"
          }
        ],
        "latex": "Q_{next} = Q \\oplus T (toggle when T=1)",
        "html": "<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⊕</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">gg</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span>"
      },
      {
        "term": "Frequency Division",
        "definition": "Reducing clock frequency by an integer factor. A T flip-flop divides by 2; n cascaded T-FFs divide by 2ⁿ.",
        "why": "High-frequency oscillators are precise but fast. Division creates usable lower frequencies.",
        "analogy": "Like gear reduction: a fast-spinning motor shaft drives a slower output shaft.",
        "visuals": [
          {
            "type": "counter_2bit",
            "title": "Cascaded Frequency Division"
          }
        ],
        "latex": "f_{out} = \\frac{f_{in}}{2}ⁿ",
        "html": "<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">u</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.3315em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9322em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.4461em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.1076em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">in</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9865em;\"><span style=\"top:-3.3851em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span></span>"
      },
      {
        "term": "Duty Cycle",
        "definition": "The percentage of time a signal is HIGH during one period. A T flip-flop output has exactly 50% duty cycle.",
        "why": "Many circuits require specific duty cycles. 50% is symmetric and often ideal.",
        "analogy": "Like work-rest ratio: 50% duty = equal time ON and OFF.",
        "visuals": [
          {
            "type": "nand_universal",
            "title": "Symmetric Pulse Train"
          }
        ],
        "latex": "Duty = \\frac{T_{high}}{T_{period}} \\times 100%",
        "html": "<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.5395em;vertical-align:-0.5481em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9914em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:-0.1389em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">er</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">d</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2901em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.5131em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:-0.1389em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">hi</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal mtight\">h</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2901em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5481em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">100</span></span></span></span>"
      },
      {
        "term": "D-to-T Conversion",
        "definition": "A T flip-flop is made from a D flip-flop by connecting Q̄ to D. This makes D always the opposite of Q.",
        "why": "D flip-flops are more common in libraries; knowing the conversion lets you build T behavior.",
        "analogy": "Like using a see-saw: connecting Q̄ to D makes the output 'see-saw' between 0 and 1.",
        "latex": "D = \\bar{Q} (for always-toggle behavior)",
        "html": "<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0701em;vertical-align:-0.25em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">Q</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">ˉ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">or</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">lw</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">ys</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">gg</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">ha</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">or</span><span class=\"mclose\">)</span></span></span></span>"
      }
    ],
    "formulaCards": [
      {
        "name": "T Flip-Flop Behavior",
        "variables": [
          {
            "symbol": "Q",
            "meaning": "Current output",
            "units": "Logic level"
          },
          {
            "symbol": "T",
            "meaning": "Toggle enable input",
            "units": "Logic level"
          },
          {
            "symbol": "Q_{next}",
            "meaning": "Output after clock edge",
            "units": "Logic level"
          },
          {
            "symbol": "\\oplus",
            "meaning": "XOR operation",
            "units": ""
          }
        ],
        "meaning": "When T=1, output toggles (XOR with 1 inverts). When T=0, output holds (XOR with 0 keeps same).",
        "derivation": "Q ⊕ 0 = Q (hold). Q ⊕ 1 = Q̄ (toggle). XOR naturally implements this behavior.",
        "example": {
          "problem": "If Q=1 and T=1, what is Q_next?",
          "given": [
            "Q = 1",
            "T = 1"
          ],
          "steps": [
            "Q_{next} = Q \\oplus T",
            "Q_{next} = 1 \\oplus 1",
            "Q_{next} = 0 (toggled)"
          ],
          "answer": "Q_next = 0 (output toggled from 1 to 0)"
        },
        "latex": "Q_{next} = Q \\oplus T",
        "html": "<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⊕</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span>"
      },
      {
        "name": "Frequency Division",
        "variables": [
          {
            "symbol": "f_{in}",
            "meaning": "Input clock frequency",
            "units": "Hz"
          },
          {
            "symbol": "f_{out}",
            "meaning": "Output frequency",
            "units": "Hz"
          },
          {
            "symbol": "n",
            "meaning": "Number of cascaded T flip-flops",
            "units": "count"
          }
        ],
        "meaning": "Each T flip-flop halves the frequency. Chaining n of them divides by 2ⁿ.",
        "derivation": "1 T-FF: f/2. 2 T-FFs: (f/2)/2 = f/4. n T-FFs: f/2ⁿ.",
        "example": {
          "problem": "How many T flip-flops to divide 32.768kHz down to 1Hz?",
          "given": [
            "f_in = 32768 Hz",
            "f_out = 1 Hz"
          ],
          "steps": [
            "1. Apply formula: f_{out} = \\frac{f_{in}}{2}ⁿ",
            "2. Substitute: 1 Hz = 32768 \\frac{Hz}{2}ⁿ",
            "3. Rearrange: 2ⁿ = \\frac{32768}{1} = 32768",
            "4. Solve for n (exponent): since 2¹⁰ = 1024, 2¹¹ = 2048, 2¹² = 4096, 2¹³ = 8192, 2¹⁴ = 16384, 2¹⁵ = 32768.",
            "5. Result: n = 15"
          ],
          "answer": "15 T flip-flops (note: 32768 = 2¹⁵, why digital watches use this crystal!)"
        },
        "latex": "f_{out} = \\frac{f_{in}}{2}ⁿ",
        "html": "<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">u</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.3315em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9322em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.4461em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3281em;\"><span style=\"top:-2.357em;margin-left:-0.1076em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">in</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9865em;\"><span style=\"top:-3.3851em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span></span>"
      },
      {
        "name": "Ripple Counter Delay",
        "variables": [
          {
            "symbol": "t_{ripple}",
            "meaning": "Total delay from clock to MSBoutput",
            "units": "nanoseconds"
          },
          {
            "symbol": "n",
            "meaning": "Number of stages (bits)",
            "units": "count"
          },
          {
            "symbol": "t_{prop}",
            "meaning": "Propagation delay per flip-flop",
            "units": "nanoseconds"
          }
        ],
        "meaning": "In a ripple counter, each stage waits for the previous. Total delay accumulates.",
        "derivation": "Stage 0 changes after t_prop. Stage 1 waits for stage 0, then t_prop more. Total = n × t_prop.",
        "example": {
          "problem": "An 8-bit ripple counter with t_prop=2ns per stage. Maximum delay?",
          "given": [
            "n = 8 bits",
            "t_prop = 2ns"
          ],
          "steps": [
            "t_{ripple} = n \\times t_{prop}",
            "t_{ripple} = 8 \\times 2ns",
            "t_{ripple} = 16ns"
          ],
          "answer": "16ns for MSB to settle (vs ~4ns for synchronous counter)"
        },
        "latex": "t_{ripple} = n \\times t_{prop}",
        "html": null
      }
    ],
    "exercises": [
      {
        "question": "A T flip-flop starts at Q=0. After 5 clock edges, what is Q?",
        "hint": "Toggle 5 times starting from 0: 0→1→0→1→0→1.",
        "answer": "Q = 1 (odd number of toggles from 0)"
      },
      {
        "question": "Design a divide-by-8 circuit. How many T flip-flops needed?",
        "hint": "8 = 2³, so divide by 2 three times.",
        "answer": "3 T flip-flops in series (each divides by 2: 2×2×2 = 8)"
      },
      {
        "question": "A 10MHz clock feeds a T flip-flop chain. What frequency comes out of the 4th flip-flop?",
        "hint": "Each stage divides by 2. After 4 stages: f/2⁴.",
        "answer": "10MHz / 2⁴ = 10MHz / 16 = 625kHz"
      }
    ],
    "realWorld": {
      "context": "T flip-flops and frequency dividers are essential for digital timekeeping and clock generation.",
      "example": "Digital watches use 32.768kHz crystals because 2¹⁵ = 32768, so 15 T flip-flops produce exactly 1Hz.",
      "numbers": "USB2.0 runs at 480MHz, derived from 12MHz oscillators. PLLs multiply up while T-FF chains divide down for various timing needs.",
      "connection": "This level teaches frequency division—the key to creating usable clock signals from fast oscillators and building counters."
    }
  }
}