{
  "$schema": "./level-game.schema.json",
  "id": "level_14_medium",
  "tier": "tier_4",
  "title": "Gated SR Latch",
  "objective": "Control when latch responds",
  "description": "Add an Enable signal to the SR Latch. The latch should only respond to S/R inputs when Enable=1; when Enable=0, it holds its state.",
  "introText": "The GATED SR LATCH adds time control to memory. Without gating, the latch responds instantly to any input change—this causes race conditions and glitches. By adding Enable (later called 'Clock'), we decide exactly WHEN the latch should listen. This is the first step toward synchronous design, where all memory elements update together on clock edges.",
  "physicsVisual": "gated_sr_latch",
  "hint": "Gate S and R with AND gates: S_gated = S AND Enable, R_gated = R AND Enable. Feed these into the SR Latch. When Enable=0, both gated signals are 0 (HOLD mode).",
  "availableGates": [
    "transistor",
    "not",
    "and",
    "or",
    "nand",
    "nor",
    "xor",
    "mux2to1",
    "srLatch"
  ],
  "inputs": 3,
  "targetSequence": [
    {
      "in": [
        1,
        0,
        1
      ],
      "out": [
        1,
        0
      ],
      "desc": "EN=1, S=1, R=0: SET"
    },
    {
      "in": [
        0,
        1,
        0
      ],
      "out": [
        1,
        0
      ],
      "desc": "EN=0, S=0, R=1: HOLD (ignore R)"
    },
    {
      "in": [
        0,
        1,
        1
      ],
      "out": [
        0,
        1
      ],
      "desc": "EN=1, S=0, R=1: RESET"
    },
    {
      "in": [
        1,
        0,
        0
      ],
      "out": [
        0,
        1
      ],
      "desc": "EN=0, S=1, R=0: HOLD (ignore S)"
    }
  ],
  "xpReward": 115,
  "storyText": "SRAM (Static Random-Access Memory) uses 6 transistors per bit: 2 cross-coupled inverters (4T) for storage + 2 access transistors for reading/writing. DRAM (Dynamic RAM) uses only 1 transistor and 1 capacitor, making it much denser but requiring constant refreshing.",
  "physicsDetails": {
    "conceptCards": [
      {
        "term": "SR Latch (Set-Reset)",
        "definition": "A bistable circuit with two inputs: Set (S) and Reset (R). Activating S makes the output 1; activating R makes it 0. When both are inactive, the circuit 'remembers' its previous state.",
        "why": "This is the 'Hello World' of digital memory. It's the first time a circuit's output depends not just on its current inputs, but on its history.",
        "analogy": "Like a simple toggle switch for a lamp that has separate buttons for 'ON' and 'OFF'. If you don't press either, the lamp stays in its current state.",
        "visuals": [
          {
            "type": "sr_latch_detailed",
            "title": "SR Latch: Feedback = Memory"
          }
        ],
        "latex": "Q = NOR(R, \\bar{Q}), \\bar{Q} = NOR(S, Q)",
        "html": "<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0701em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">NOR</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">Q</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">ˉ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">Q</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">ˉ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">NOR</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mclose\">)</span></span></span></span>"
      },
      {
        "term": "Bistable Multivibrator",
        "definition": "A circuit with two stable states that can remain in either state indefinitely. The SR latch is the simplest example.",
        "why": "Bistability is the foundation of digital memory—without it, circuits would forget instantly.",
        "analogy": "Like a ball in a valley between two hills—it will rest in one valley or the other, not in between.",
        "latex": "",
        "html": null,
        "visuals": [
          {
            "type": "sr_latch",
            "title": "Bistable States"
          }
        ]
      },
      {
        "term": "Positive Feedback",
        "definition": "When output feeds back to reinforce itself. In the SR latch, if Q=1, the feedback keeps Q at 1.",
        "why": "Positive feedback creates the bistability—once in a state, the latch 'wants' to stay there.",
        "analogy": "Like microphone feedback: the speaker output feeds into the microphone, amplifying itself.",
        "visuals": [
          {
            "type": "electron_flow",
            "title": "Feedback Loop"
          }
        ],
        "latex": "Q reinforces Q (through \\bar{Q} gate)",
        "html": "<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0701em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">in</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\">orces</span><span class=\"mord mathnormal\">Q</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">ro</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">ug</span><span class=\"mord mathnormal\">h</span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">Q</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">ˉ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">e</span><span class=\"mclose\">)</span></span></span></span>"
      },
      {
        "term": "Forbidden State (S=R=1)",
        "definition": "When both Set and Reset are active, the outputs are undefined and may oscillate when released.",
        "why": "This is a race condition—when S and R both go to 0, the latch may settle unpredictably or oscillate.",
        "analogy": "Like telling someone 'go forward' and 'go backward' simultaneously—contradictory commands.",
        "latex": "S=R=1: Q=\\bar{Q}=0 (invalid), then race when released",
        "html": "<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0145em;vertical-align:-0.1944em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">Q</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">ˉ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">0</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">in</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">d</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">ce</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">se</span><span class=\"mord mathnormal\">d</span></span></span></span>"
      },
      {
        "term": "Race Condition",
        "definition": "A timing hazard where the circuit's outcome depends on which signal arrives first. In the SR latch, releasing S=R=1 simultaneously creates unpredictable behavior.",
        "why": "Race conditions cause non-deterministic bugs. Proper design avoids them through timing constraints or circuit structure.",
        "analogy": "Like two people trying to go through a door at exactly the same time—who goes first is unpredictable."
      }
    ],
    "formulaCards": [
      {
        "name": "NOR-based SR Latch",
        "variables": [
          {
            "symbol": "S",
            "meaning": "Set input (active HIGH)",
            "units": "Logic level"
          },
          {
            "symbol": "R",
            "meaning": "Reset input (active HIGH)",
            "units": "Logic level"
          },
          {
            "symbol": "Q",
            "meaning": "Output (stored state)",
            "units": "Logic level"
          },
          {
            "symbol": "\\bar{Q}",
            "meaning": "Complement output",
            "units": "Logic level"
          }
        ],
        "meaning": "Each output is a NOR of the opposite input and the other output. Cross-coupling creates feedback.",
        "derivation": "When S=1: Q̄=NOR(1,Q)=0, then Q=NOR(0,0)=1. The 1 propagates and latches.",
        "example": {
          "problem": "Trace the SET operation: S=1, R=0, initial Q=0.",
          "given": [
            "S = 1",
            "R = 0",
            "Initial Q = 0",
            "Initial Q̄ = 1"
          ],
          "steps": [
            "\\bar{Q} = NOR(S, Q) = NOR(1, 0) = 0",
            "Q = NOR(R, \\bar{Q}) = NOR(0, 0) = 1",
            "New stable state: Q=1, \\bar{Q}=0"
          ],
          "answer": "Q transitions from 0 to 1 (SET operation complete)"
        },
        "latex": "Q = NOR(R, \\bar{Q}), \\bar{Q} = NOR(S, Q)",
        "html": "<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0701em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">NOR</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">Q</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">ˉ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8201em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">Q</span></span><span style=\"top:-3.2523em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1667em;\"><span class=\"mord\">ˉ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">NOR</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mclose\">)</span></span></span></span>"
      },
      {
        "name": "Hold Condition",
        "variables": [
          {
            "symbol": "S",
            "meaning": "Set input",
            "units": "Logic level"
          },
          {
            "symbol": "R",
            "meaning": "Reset input",
            "units": "Logic level"
          },
          {
            "symbol": "Q_{next}",
            "meaning": "Output after operation",
            "units": "Logic level"
          },
          {
            "symbol": "Q_{current}",
            "meaning": "Output before operation",
            "units": "Logic level"
          }
        ],
        "meaning": "When neither S nor R is active, the latch holds its current state indefinitely. This is MEMORY.",
        "derivation": "If S=R=0 and Q=1,Q̄=0: Q=NOR(0,0)=1, Q̄=NOR(0,1)=0. Stable!",
        "example": {
          "problem": "Show that Q=1 is stable when S=R=0.",
          "given": [
            "S = 0",
            "R = 0",
            "Current Q = 1",
            "Current Q̄ = 0"
          ],
          "steps": [
            "Q = NOR(R, \\bar{Q}) = NOR(0, 0) = 1 (unchanged)",
            "\\bar{Q} = NOR(S, Q) = NOR(0, 1) = 0 (unchanged)",
            "Both outputs stable → HOLD confirmed"
          ],
          "answer": "State Q=1, Q̄=0 is self-maintaining when S=R=0"
        },
        "latex": "S=0, R=0 → Q_{next} = Q_{current}",
        "html": "<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span><span class=\"mord mathnormal mtight\">u</span><span class=\"mord mathnormal mtight\">rre</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>"
      },
      {
        "name": "SRAM Cell (6T)",
        "latex": "Cell = 4T (latch) + 2T (access)",
        "html": "<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">ll</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">4</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">h</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">ccess</span><span class=\"mclose\">)</span></span></span></span>",
        "variables": [
          {
            "symbol": "4T",
            "meaning": "4 transistors forming cross-coupled inverters (the latch)",
            "units": "transistors"
          },
          {
            "symbol": "2T",
            "meaning": "2 access transistors connecting latch to bitlines",
            "units": "transistors"
          },
          {
            "symbol": "6T",
            "meaning": "Total transistors per bit",
            "units": "transistors"
          }
        ],
        "meaning": "SRAM uses a latch for storage (4T) plus access transistors (2T) for read/write control.",
        "derivation": "Each inverter = 2T. Two cross-coupled inverters = 4T. Two NMOS access transistors = 2T. Total = 6T.",
        "example": {
          "problem": "How many transistors for 1KB of SRAM?",
          "given": [
            "1KB = 1024 bytes = 8192 bits",
            "6T per bit"
          ],
          "steps": [
            "Transistors = bits \\times \\frac{6T}{bit}",
            "Transistors = 8192 \\times 6",
            "Transistors = 49,152"
          ],
          "answer": "~49,000 transistors for 1KB of SRAM"
        }
      }
    ],
    "exercises": [
      {
        "question": "Trace the RESET operation: S=0, R=1, initial Q=1.",
        "hint": "Apply NOR equations step by step.",
        "answer": {
          "steps": [
            "Start from the initial condition: Q = 1, so Q̄ = 0.",
            "Compute Q = NOR(R, Q̄) = NOR(1, 0) = 0.",
            "Compute Q̄ = NOR(S, Q) = NOR(0, 0) = 1."
          ],
          "answer": "Q=0, Q̄=1 (RESET complete)"
        }
      },
      {
        "question": "Why is S=R=1 called the 'forbidden' state?",
        "hint": "Calculate what happens to Q and Q̄ when S=R=1.",
        "answer": "When S=R=1: Q=NOR(1,Q̄)=0 and Q̄=NOR(1,Q)=0. Both outputs are 0, violating Q=NOT(Q̄). When S,R both go to 0, race condition occurs."
      },
      {
        "question": "Compare SRAM (6T) vs DRAM (1T1C) density. For 64Mb, how many transistors each?",
        "hint": "64Mb = 64 million bits. DRAM uses 1 transistor + 1 capacitor per bit.",
        "answer": {
          "steps": [
            "SRAM: 64M bits × 6 transistors/bit = 384M transistors.",
            "DRAM: 64M bits × 1 transistor/bit = 64M transistors (plus 64M capacitors).",
            "Compare: 384M / 64M = 6×, so DRAM is ~6× denser by transistor count."
          ],
          "answer": "SRAM: 384M transistors; DRAM: 64M transistors (+ 64M capacitors)"
        }
      }
    ],
    "realWorld": {
      "context": "The SR latch is the foundation of all digital memory—from CPU registers to cache to flip-flops.",
      "example": "CPU registers use latch-based flip-flops (derived from SR latches) to hold instruction operands and results.",
      "numbers": "A Ryzen 9 CPU has ~4MB of L2 cache (SRAM). At 6T/bit, that's 4M × 8 × 6 = 192 million transistors just for L2 cache.",
      "connection": "This level introduces memory—the ability to store and recall information. Every computer relies on this fundamental capability."
    }
  },
  "maxGates": 3
}